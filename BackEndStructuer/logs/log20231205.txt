2023-12-05 12:27:14.641 +03:00 [ERR] Error in /api/register POST Object reference not set to an instance of an object.    at BackEndStructuer.Services.TokenService.CreateToken(AppUser user) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Services\TokenService.cs:line 20
   at BackEndStructuer.Services.UserService.Register(RegisterForm registerForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Services\UserService.cs:line 67
   at BackEndStructuer.Controllers.AuthController.Register(RegisterForm registerForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Controllers\AuthController.cs:line 19
   at lambda_method301(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BackEndStructuer.Helpers.CustomPayloadTooLargeMiddleware.Invoke(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomPayloadTooLargeFilter.cs:line 26
   at BackEndStructuer.Helpers.CustomUnauthorizedMiddleware.InvokeAsync(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomUnauthorizedFilter.cs:line 25
System.NullReferenceException: Object reference not set to an instance of an object.
   at BackEndStructuer.Services.TokenService.CreateToken(AppUser user) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Services\TokenService.cs:line 20
   at BackEndStructuer.Services.UserService.Register(RegisterForm registerForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Services\UserService.cs:line 67
   at BackEndStructuer.Controllers.AuthController.Register(RegisterForm registerForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Controllers\AuthController.cs:line 19
   at lambda_method301(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BackEndStructuer.Helpers.CustomPayloadTooLargeMiddleware.Invoke(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomPayloadTooLargeFilter.cs:line 26
   at BackEndStructuer.Helpers.CustomUnauthorizedMiddleware.InvokeAsync(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomUnauthorizedFilter.cs:line 25
2023-12-05 12:35:02.776 +03:00 [ERR] Error in /api/storages POST variable 'e' of type 'System.String' referenced from scope '', but it is not defined    at System.Linq.Expressions.Compiler.VariableBinder.Reference(ParameterExpression node, VariableStorageKind storage)
   at System.Linq.Expressions.Compiler.VariableBinder.VisitParameter(ParameterExpression node)
   at System.Linq.Expressions.Compiler.VariableBinder.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.ExpressionVisitor.Visit(ReadOnlyCollection`1 nodes)
   at System.Linq.Expressions.Compiler.VariableBinder.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Compiler.LambdaCompiler.Compile(LambdaExpression lambda)
   at System.Linq.Expressions.Expression`1.Compile()
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.<>c__DisplayClass7_0.<CompileFromFingerprint>b__0(ExpressionFingerprintChain _)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.CompileFromFingerprint(Expression`1 expr)
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.Compile(Expression`1 expr)
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Process[TModel,TValue](Expression`1 lambdaExpression)
   at Hangfire.Common.CachedExpressionCompiler.Wrap(Expression arg)
   at Hangfire.Common.CachedExpressionCompiler.Evaluate(Expression arg)
   at Hangfire.Common.Job.GetExpressionValue(Expression expression)
   at System.Linq.Enumerable.SelectIListIterator`2.ToArray()
   at Hangfire.Common.Job.GetExpressionValues(IEnumerable`1 expressions)
   at Hangfire.Common.Job.FromExpression(LambdaExpression methodCall, Type explicitType, String queue)
   at Hangfire.Common.Job.FromExpression[TType](Expression`1 methodCall, String queue)
   at Hangfire.Common.Job.FromExpression[TType](Expression`1 methodCall)
   at Hangfire.BackgroundJobClientExtensions.Create[T](IBackgroundJobClient client, Expression`1 methodCall, IState state)
   at Hangfire.BackgroundJobClientExtensions.Schedule[T](IBackgroundJobClient client, Expression`1 methodCall, TimeSpan delay)
   at Hangfire.BackgroundJob.Schedule[T](Expression`1 methodCall, TimeSpan delay)
   at BackEndStructuer.Services.StorageService.add(Guid Id, StorageForm storageForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Services\StorageService.cs:line 69
   at BackEndStructuer.Controllers.StoragesController.Create(StorageForm storageForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Controllers\StoragesController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BackEndStructuer.Helpers.CustomPayloadTooLargeMiddleware.Invoke(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomPayloadTooLargeFilter.cs:line 26
   at BackEndStructuer.Helpers.CustomUnauthorizedMiddleware.InvokeAsync(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomUnauthorizedFilter.cs:line 25
System.InvalidOperationException: variable 'e' of type 'System.String' referenced from scope '', but it is not defined
   at System.Linq.Expressions.Compiler.VariableBinder.Reference(ParameterExpression node, VariableStorageKind storage)
   at System.Linq.Expressions.Compiler.VariableBinder.VisitParameter(ParameterExpression node)
   at System.Linq.Expressions.Compiler.VariableBinder.VisitUnary(UnaryExpression node)
   at System.Linq.Expressions.ExpressionVisitor.Visit(ReadOnlyCollection`1 nodes)
   at System.Linq.Expressions.Compiler.VariableBinder.VisitLambda[T](Expression`1 node)
   at System.Linq.Expressions.Compiler.LambdaCompiler.Compile(LambdaExpression lambda)
   at System.Linq.Expressions.Expression`1.Compile()
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.<>c__DisplayClass7_0.<CompileFromFingerprint>b__0(ExpressionFingerprintChain _)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.CompileFromFingerprint(Expression`1 expr)
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Compiler`2.Compile(Expression`1 expr)
   at Hangfire.Common.ExpressionUtil.CachedExpressionCompiler.Process[TModel,TValue](Expression`1 lambdaExpression)
   at Hangfire.Common.CachedExpressionCompiler.Wrap(Expression arg)
   at Hangfire.Common.CachedExpressionCompiler.Evaluate(Expression arg)
   at Hangfire.Common.Job.GetExpressionValue(Expression expression)
   at System.Linq.Enumerable.SelectIListIterator`2.ToArray()
   at Hangfire.Common.Job.GetExpressionValues(IEnumerable`1 expressions)
   at Hangfire.Common.Job.FromExpression(LambdaExpression methodCall, Type explicitType, String queue)
   at Hangfire.Common.Job.FromExpression[TType](Expression`1 methodCall, String queue)
   at Hangfire.Common.Job.FromExpression[TType](Expression`1 methodCall)
   at Hangfire.BackgroundJobClientExtensions.Create[T](IBackgroundJobClient client, Expression`1 methodCall, IState state)
   at Hangfire.BackgroundJobClientExtensions.Schedule[T](IBackgroundJobClient client, Expression`1 methodCall, TimeSpan delay)
   at Hangfire.BackgroundJob.Schedule[T](Expression`1 methodCall, TimeSpan delay)
   at BackEndStructuer.Services.StorageService.add(Guid Id, StorageForm storageForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Services\StorageService.cs:line 69
   at BackEndStructuer.Controllers.StoragesController.Create(StorageForm storageForm) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Controllers\StoragesController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BackEndStructuer.Helpers.CustomPayloadTooLargeMiddleware.Invoke(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomPayloadTooLargeFilter.cs:line 26
   at BackEndStructuer.Helpers.CustomUnauthorizedMiddleware.InvokeAsync(HttpContext context) in C:\Users\MK\demo\task-structutre\BackEndStructuer\Helpers\CustomUnauthorizedFilter.cs:line 25
